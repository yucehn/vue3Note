<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <script src="./index.js"></script>
        <script type="text/javascript">
            const proxyUser = shallowReactive({
                name: "小名",
                car: {
                    color: "red",
                },
            });
            // 攔截到讀(o)/寫(o)數據
            // proxyUser.name += "小紅";
            // 攔截到讀(o)/寫(x)數據
            // proxyUser.car.color += "--";
            // 攔截到刪除數據
            // delete proxyUser.name;
            // 攔截到讀(o)數據
            // delete proxyUser.car.color;

            // const proxyUser2 = reactive({
            //     name: "小名",
            //     car: {
            //         color: "red",
            //     },
            // });
            // 攔截到讀(o)/寫(o)數據
            // proxyUser2.name += "小紅";
            // 攔截到讀(o)/寫(o)數據
            // proxyUser2.car.color += "--";
            // 攔截到刪除數據
            // delete proxyUser2.name;
            // 攔截到讀(o)/刪除(o) 數據
            // delete proxyUser2.car.color;

            // ==============================
            // 測試 shallowReadonly and readonly
            const proxyUser3 = shallowReadonly({
                name: "小名",
                cars: ["bmw", "ktm"],
            });
            // 可以讀取
            // console.log(proxyUser3.name);
            // 不能修改
            // proxyUser3.name = "==";
            // 不能刪除
            // delete proxyUser3.name;
            // 只讀取，攔截不了深度修改(可以修改)
            // proxyUser3.cars[0] = "kawasaki";
            // 只讀取，攔截不了深度刪除(可以刪除)
            // delete proxyUser3.cars[0];

            const proxyUser4 = readonly({
                name: "小名",
                cars: ["bmw", "ktm"],
            });
            // 可以讀取
            // console.log(proxyUser4.name);
            // 可以讀取
            // console.log(proxyUser4.cars[0]);
            // 只讀取，不修改
            // proxyUser4.name = "改名";
            // 只讀取，不修改
            // proxyUser4.cars[0] = "kawasaki";
            // 只能讀取數據，不能刪除數據
            // delete proxyUser4.name;
            // 只能讀取數據，不能刪除數據
            // delete proxyUser4.cars[0];

            // ==============================
            // const ref1 = shallowRef({
            //     name: "小名",
            //     car: {
            //         color: "red",
            //     },
            // });
            // console.log(ref1.value);
            // 攔截劫持
            // ref1.value = "==";
            // 攔截劫持不到修改
            // ref1.value.car = "==";
            // const ref2 = ref({
            //     name: "小名",
            //     car: {
            //         color: "red",
            //     },
            // });
            // console.log(ref2.value);
            // 劫持到修改數據
            // ref2.value = "==";
            // 可修改
            // ref2.value.car = "==";

            console.log("isRef", isRef(ref({})));
            console.log("isReactive", isReactive(reactive({})));
            console.log("isReadonly", isReadonly(readonly({})));
            console.log("isProxy reactive", isProxy(reactive({})));
            console.log("isProxy readonly", isProxy(readonly({})));
        </script>
    </body>
</html>
