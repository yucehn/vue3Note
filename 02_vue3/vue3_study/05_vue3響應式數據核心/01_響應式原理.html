<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script type="text/javascript">
        // 目標對象
        const user = {
            name: '佐助',
            age: 20,
            wife: {
                name: '小英',
                age: 19
            }
        }

        // 把目標對象變成代理對象
        // user ==> target目標對象
        // handler ==> 處理器對象(用來監視數據及操作)
        const proxyUser = new  Proxy(user,{
            // 獲取目標對象屬性值
            get(target,prop){
                console.log('get 調用');
                return Reflect.get(target,prop); // 透過代理對象更新目標對象，使用反射讓外面可以讀取
            },
            // 修改目標對象的屬性/為目標對象添加新的屬性
            set(target,prop,val){
                console.log('set 調用');
                return Reflect.set(target,prop,val); // 透過代理對象更新目標對象
            },
            // 刪除目標對象的屬性值
            deleteProperty(target,prop){
                console.log(' delete 調用');
                return Reflect.deleteProperty(target,prop);
            }
        });

        // 通過代理對象獲取目標對象中的某個屬性值
        console.log(proxyUser.name)
        // 透過代理對象更新目標對象
        proxyUser.name = '名人';
        console.log(user)
        // 透過代理對象向目標對象添加屬性
        proxyUser.genger = '男';
        console.log(user)
        delete proxyUser.name
        console.log(user)
        // 更新目標對象中的某個屬性對象中的屬性值
        proxyUser.wife.name = '小雨'
        console.log(user)
    </script>
</body>
</html>